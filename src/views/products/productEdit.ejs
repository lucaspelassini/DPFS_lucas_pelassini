<!DOCTYPE html>
<html lang="es">

<%- include('../partials/head', { title: 'Editar Producto - Botánica.com', stylesheet: 'forms' }) %>

<body>

<%- include('../partials/header') %>

<div class="container">
    <div class="form-container">
        <h2>Editar Producto</h2>
        <p class="form-subtitle">Modifica los datos del producto</p>

        <form action="/products/<%= product.id %>?_method=PUT" method="POST">
            
            <div class="form-group">
                <label for="name">Nombre del Producto *</label>
                <input type="text" id="name" name="name" value="<%= product.name %>" required>
            </div>

            <div class="form-group">
                <label for="description">Descripción *</label>
                <textarea id="description" name="description" rows="5" required><%= product.description %></textarea>
            </div>

            <div class="form-group">
                <label>Imagen Actual:</label>
                <p><%= product.image %></p>
                <small>Para cambiar la imagen, deberás eliminar y crear de nuevo el producto</small>
            </div>

            <div class="form-group">
                <label for="category">Categoría *</label>
                <select id="category" name="category" required>
                    <option value="">Seleccionar categoría</option>
                    <option value="plantas" <%= product.category === 'plantas' ? 'selected' : '' %>>Plantas</option>
                    <option value="macetas" <%= product.category === 'macetas' ? 'selected' : '' %>>Macetas</option>
                    <option value="herramientas" <%= product.category === 'herramientas' ? 'selected' : '' %>>Herramientas</option>
                    <option value="fertilizantes" <%= product.category === 'fertilizantes' ? 'selected' : '' %>>Fertilizantes</option>
                    <option value="semillas" <%= product.category === 'semillas' ? 'selected' : '' %>>Semillas</option>
                </select>
            </div>

            <div class="form-group">
                <label for="colors">Colores disponibles</label>
                <input type="text" id="colors" name="colors" value="<%= product.colors ? product.colors.join(', ') : '' %>" placeholder="Ej: Verde, Rojo, Amarillo">
            </div>

            <div class="form-group">
                <label for="price">Precio *</label>
                <input type="number" id="price" name="price" step="0.01" min="0" value="<%= product.price %>" required>
            </div>

            <div class="form-buttons">
                <button type="submit" class="btn-main">Guardar Cambios</button>
                <a href="/products/<%= product.id %>" class="btn-secondary">Cancelar</a>
            </div>
        </form>

        <form action="/products/<%= product.id %>?_method=DELETE" method="POST" class="delete-form">
            <button type="submit" class="btn-delete" onclick="return confirm('¿Estás seguro de eliminar este producto?')">Eliminar Producto</button>
        </form>
    </div>
</div>

<%- include('../partials/footer') %>

</body>
</html>